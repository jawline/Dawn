<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Dawn OS: Kernel/sources/tss/tss.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>Kernel/sources/tss/tss.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="tss_8h_source.html">tss.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="_shared_2headers_2types_2memory_8h_source.html">types/memory.h</a>&gt;</code><br/>
<code>#include &quot;../stack/kstack.h&quot;</code><br/>
<div class="dynheader">
Include dependency graph for tss.c:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c__incl.png" border="0" usemap="#_kernel_2sources_2tss_2tss_8c" alt=""/></div>
<map name="_kernel_2sources_2tss_2tss_8c" id="_kernel_2sources_2tss_2tss_8c">
<area shape="rect" id="node3" href="tss_8h.html" title="tss.h" alt="" coords="5,83,59,112"/><area shape="rect" id="node7" href="_shared_2headers_2types_2memory_8h.html" title="types/memory.h" alt="" coords="83,83,208,112"/><area shape="rect" id="node5" href="int__types_8h.html" title="types/int_types.h" alt="" coords="23,160,153,189"/></map>
</div>

<p><a href="tss_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tss_8c.html#ace165bf0fcde75c7072e1f0e3ae37199">write_tss</a> (int <a class="el" href="multiboot_8h.html#afbfdd05b9427739fb809284a10183bff">num</a>, <a class="el" href="int__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="el" href="tss_8h.html#aa2a88c77e0a18aaf93e22bc84fd6b6d7">ss0</a>, <a class="el" href="int__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> <a class="el" href="tss_8h.html#a5beedbc15b6c9be0d78ded4db6eb061e">esp0</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tss_8c.html#aa5e711ad212301792cb4b980158be99b">setKernelStack</a> (<a class="el" href="int__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tss_8c.html#a7aae7238dc36b91cfab7daaf84b2e489">flushTss</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tss_8c.html#a342204a01e4d27c91ec92f836afe3609">initializeTss</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtss__entry__struct.html">tss_entry_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tss_8c.html#a1ad347f48b48266998ead842d8b2b261">tss_entry</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a7aae7238dc36b91cfab7daaf84b2e489"></a><!-- doxytag: member="tss.c::flushTss" ref="a7aae7238dc36b91cfab7daaf84b2e489" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flushTss </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tss_8c_source.html#l00030">30</a> of file <a class="el" href="tss_8c_source.html">tss.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_a7aae7238dc36b91cfab7daaf84b2e489_icgraph.png" border="0" usemap="#tss_8c_a7aae7238dc36b91cfab7daaf84b2e489_icgraph" alt=""/></div>
<map name="tss_8c_a7aae7238dc36b91cfab7daaf84b2e489_icgraph" id="tss_8c_a7aae7238dc36b91cfab7daaf84b2e489_icgraph">
<area shape="rect" id="node3" href="tss_8h.html#a342204a01e4d27c91ec92f836afe3609" title="initializeTss" alt="" coords="127,5,217,35"/><area shape="rect" id="node5" href="kernel__init_8c.html#a925c14c16c60f11146ba946b4dab12e9" title="GDT allows for segmented memory model on x86 processors, outdated. Using paging instead but the syste..." alt="" coords="267,5,363,35"/><area shape="rect" id="node7" href="kernel__init_8c.html#a2f7d149ce9d9c12c2d567d231b81986b" title="Run all the initial &#45;one time&#45; kernel initialization routines &#45; once this is called the Kernel assume..." alt="" coords="411,5,523,35"/><area shape="rect" id="node9" href="boot__highlevel_8c.html#ab7a786ad42abddccc501c8067f946c3c" title="Main entry point of the Kernel. It is passed the multiboot header by GRUB when the bootloader begins ..." alt="" coords="572,5,625,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a342204a01e4d27c91ec92f836afe3609"></a><!-- doxytag: member="tss.c::initializeTss" ref="a342204a01e4d27c91ec92f836afe3609" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeTss </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tss_8c_source.html#l00037">37</a> of file <a class="el" href="tss_8c_source.html">tss.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_a342204a01e4d27c91ec92f836afe3609_cgraph.png" border="0" usemap="#tss_8c_a342204a01e4d27c91ec92f836afe3609_cgraph" alt=""/></div>
<map name="tss_8c_a342204a01e4d27c91ec92f836afe3609_cgraph" id="tss_8c_a342204a01e4d27c91ec92f836afe3609_cgraph">
<area shape="rect" id="node3" href="gdt_8c.html#a4f2e163cdb5efdfe0fd358763fe51d72" title="flushGdt" alt="" coords="149,5,224,35"/><area shape="rect" id="node7" href="tss_8c.html#a7aae7238dc36b91cfab7daaf84b2e489" title="flushTss" alt="" coords="152,59,221,88"/><area shape="rect" id="node9" href="tss_8c.html#ace165bf0fcde75c7072e1f0e3ae37199" title="write_tss" alt="" coords="148,112,225,141"/><area shape="rect" id="node5" href="gdt_8c.html#a8e57c48390f1d202e56b03d4b294dcd5" title="gdt_flush" alt="" coords="288,5,368,35"/><area shape="rect" id="node11" href="gdt_8c.html#ad57e976b13f592834eae0c9e07f71bd5" title="gdt_set_gate" alt="" coords="275,85,381,115"/><area shape="rect" id="node13" href="common_8h.html#ab0985f366b55a4fd2d24cefe66340bc0" title="memset" alt="" coords="291,139,365,168"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_a342204a01e4d27c91ec92f836afe3609_icgraph.png" border="0" usemap="#tss_8c_a342204a01e4d27c91ec92f836afe3609_icgraph" alt=""/></div>
<map name="tss_8c_a342204a01e4d27c91ec92f836afe3609_icgraph" id="tss_8c_a342204a01e4d27c91ec92f836afe3609_icgraph">
<area shape="rect" id="node3" href="kernel__init_8c.html#a925c14c16c60f11146ba946b4dab12e9" title="GDT allows for segmented memory model on x86 processors, outdated. Using paging instead but the syste..." alt="" coords="147,5,243,35"/><area shape="rect" id="node5" href="kernel__init_8c.html#a2f7d149ce9d9c12c2d567d231b81986b" title="Run all the initial &#45;one time&#45; kernel initialization routines &#45; once this is called the Kernel assume..." alt="" coords="291,5,403,35"/><area shape="rect" id="node7" href="boot__highlevel_8c.html#ab7a786ad42abddccc501c8067f946c3c" title="Main entry point of the Kernel. It is passed the multiboot header by GRUB when the bootloader begins ..." alt="" coords="452,5,505,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa5e711ad212301792cb4b980158be99b"></a><!-- doxytag: member="tss.c::setKernelStack" ref="aa5e711ad212301792cb4b980158be99b" args="(uint32 reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setKernelStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="int__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>reg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tss_8c_source.html#l00025">25</a> of file <a class="el" href="tss_8c_source.html">tss.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_aa5e711ad212301792cb4b980158be99b_icgraph.png" border="0" usemap="#tss_8c_aa5e711ad212301792cb4b980158be99b_icgraph" alt=""/></div>
<map name="tss_8c_aa5e711ad212301792cb4b980158be99b_icgraph" id="tss_8c_aa5e711ad212301792cb4b980158be99b_icgraph">
<area shape="rect" id="node3" href="process__scheduler_8c.html#a95ff736f47095e3ed110fb204731ea09" title="swapToProcess" alt="" coords="181,112,299,141"/><area shape="rect" id="node38" href="_kernel_2sources_2usermode_2usermode_8c.html#af8f64ad1462529a0de1093ec482aa16a" title="switchToUserMode" alt="" coords="171,165,309,195"/><area shape="rect" id="node5" href="process__scheduler_8h.html#a352be131bf4dd6f8a85ea25f379bf06b" title="scheduler_on_tick" alt="" coords="360,112,496,141"/><area shape="rect" id="node7" href="procfault_8c.html#a26b0196d4d9ef5164edee59a6d2f559c" title="handleFatalProcessFault" alt="" coords="816,137,989,167"/><area shape="rect" id="node24" href="_kernel_2sources_2timers_2clock_8c.html#ac0eb566b703d0891a1d93ad1c1c49a8d" title="pitCallback" alt="" coords="611,5,701,35"/><area shape="rect" id="node29" href="process__scheduler_8c.html#ad1dc14872246fc38ff78f0a41929f642" title="scheduler_kill_current_process" alt="" coords="548,85,764,115"/><area shape="rect" id="node9" href="gpf_8c.html#a2be4c2c7d4e533f23cef010fc57e8a55" title="gpfHandler" alt="" coords="1041,137,1132,167"/><area shape="rect" id="node17" href="virt__mm_8c.html#a30018f558207db0e20b3e50a1cfa2650" title="page_fault" alt="" coords="1043,84,1131,113"/><area shape="rect" id="node11" href="gpf_8c.html#a0c40c2bb85384d8c85b9e44259c49aeb" title="initializeGeneralProtectionFaultHandler" alt="" coords="1455,137,1721,167"/><area shape="rect" id="node13" href="kernel__init_8c.html#a2f7d149ce9d9c12c2d567d231b81986b" title="Run all the initial &#45;one time&#45; kernel initialization routines &#45; once this is called the Kernel assume..." alt="" coords="1771,84,1883,113"/><area shape="rect" id="node15" href="boot__highlevel_8c.html#ab7a786ad42abddccc501c8067f946c3c" title="Main entry point of the Kernel. It is passed the multiboot header by GRUB when the bootloader begins ..." alt="" coords="1932,84,1985,113"/><area shape="rect" id="node19" href="virt__mm_8c.html#a61bc20f6fa853ec99ebf058b35a8741a" title="Initialize the virtual memory manager (Keeps track of virtual memory mappings and handles the mapping..." alt="" coords="1183,84,1404,113"/><area shape="rect" id="node21" href="kernel__init_8c.html#afc8d3a4beb30d0fbbb6bfd7a416cd26a" title="Initialize the physical and virtual memory managers uses the last loaded module (The one after the RA..." alt="" coords="1495,84,1681,113"/><area shape="rect" id="node26" href="_kernel_2sources_2timers_2clock_8c.html#aa26c87dcbaf9f1c4b0bd771a814c341e" title="initializeSystemClock" alt="" coords="1216,5,1371,35"/><area shape="rect" id="node32" href="process_8c.html#a3f16568d609a026b0a08796175f20244" title="Acts as a entry point for new applications." alt="" coords="831,191,975,220"/><area shape="rect" id="node34" href="syscall_8c.html#a6a5aabbdf85de2eafbc3a5a074caffa4" title="syscallKillCurrentProcess" alt="" coords="813,84,992,113"/><area shape="rect" id="node36" href="syscall_8c.html#a4e52c83de7181ae4171d9e68bdacff59" title="syscallRequestExit" alt="" coords="833,31,972,60"/><area shape="rect" id="node40" href="loader_8h.html#ae721b082b5cf1e5def77eb6a753a3904" title="loadAndExecuteElf" alt="" coords="359,189,497,219"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace165bf0fcde75c7072e1f0e3ae37199"></a><!-- doxytag: member="tss.c::write_tss" ref="ace165bf0fcde75c7072e1f0e3ae37199" args="(int num, uint16 ss0, uint32 esp0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_tss </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="int__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&nbsp;</td>
          <td class="paramname"> <em>ss0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="int__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&nbsp;</td>
          <td class="paramname"> <em>esp0</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tss_8c_source.html#l00007">7</a> of file <a class="el" href="tss_8c_source.html">tss.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_cgraph.png" border="0" usemap="#tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_cgraph" alt=""/></div>
<map name="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_cgraph" id="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_cgraph">
<area shape="rect" id="node3" href="gdt_8c.html#ad57e976b13f592834eae0c9e07f71bd5" title="gdt_set_gate" alt="" coords="133,5,240,35"/><area shape="rect" id="node5" href="common_8h.html#ab0985f366b55a4fd2d24cefe66340bc0" title="memset" alt="" coords="149,59,224,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_icgraph.png" border="0" usemap="#tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_icgraph" alt=""/></div>
<map name="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_icgraph" id="tss_8c_ace165bf0fcde75c7072e1f0e3ae37199_icgraph">
<area shape="rect" id="node3" href="tss_8h.html#a342204a01e4d27c91ec92f836afe3609" title="initializeTss" alt="" coords="135,5,225,35"/><area shape="rect" id="node5" href="kernel__init_8c.html#a925c14c16c60f11146ba946b4dab12e9" title="GDT allows for segmented memory model on x86 processors, outdated. Using paging instead but the syste..." alt="" coords="275,5,371,35"/><area shape="rect" id="node7" href="kernel__init_8c.html#a2f7d149ce9d9c12c2d567d231b81986b" title="Run all the initial &#45;one time&#45; kernel initialization routines &#45; once this is called the Kernel assume..." alt="" coords="419,5,531,35"/><area shape="rect" id="node9" href="boot__highlevel_8c.html#ab7a786ad42abddccc501c8067f946c3c" title="Main entry point of the Kernel. It is passed the multiboot header by GRUB when the bootloader begins ..." alt="" coords="580,5,633,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a1ad347f48b48266998ead842d8b2b261"></a><!-- doxytag: member="tss.c::tss_entry" ref="a1ad347f48b48266998ead842d8b2b261" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtss__entry__struct.html">tss_entry_t</a> <a class="el" href="tss_8c.html#a1ad347f48b48266998ead842d8b2b261">tss_entry</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="tss_8c_source.html#l00005">5</a> of file <a class="el" href="tss_8c_source.html">tss.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Dec 8 2010 09:23:59 for Dawn OS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
