\hypertarget{virt__mm_8h}{
\section{Kernel/headers/mm/virt\_\-mm.h File Reference}
\label{virt__mm_8h}\index{Kernel/headers/mm/virt\_\-mm.h@{Kernel/headers/mm/virt\_\-mm.h}}
}
{\ttfamily \#include $<$mm/pagedir.h$>$}\par
{\ttfamily \#include $<$types/memory.h$>$}\par
{\ttfamily \#include $<$process/process.h$>$}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{virt__mm_8h_ae4aa620ce57c7c3171b916de2c5f09f2}{PAGE\_\-MASK}~0xFFFFF000
\item 
\#define \hyperlink{virt__mm_8h_a122dfc414a40e260fd35dbe9743db26f}{PAGE\_\-PRESENT}~0x1
\item 
\#define \hyperlink{virt__mm_8h_a559697780e34fd09ba6a2e909f0fe1df}{PAGE\_\-WRITE}~0x2
\item 
\#define \hyperlink{virt__mm_8h_a2d0253527ea5080d6befe0ee3bde473f}{PAGE\_\-USER}~0x4
\item 
\#define \hyperlink{virt__mm_8h_a56696016bca4fc31f61555b27f77230a}{PAGE\_\-WRITETHROUGH}~0x8
\item 
\#define \hyperlink{virt__mm_8h_ac127198ad95c40c8f39e4076d1e246a4}{PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR}~0xFFBFF000
\item 
\#define \hyperlink{virt__mm_8h_a07024be226b22545cb316cceb0f357c9}{PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR}~0xFFC00000
\item 
\#define \hyperlink{virt__mm_8h_ac6904b671094bfd0dc29dab0d9161c4a}{PAGE\_\-DIR\_\-IDX}(x)~((MEM\_\-LOC) x / (\hyperlink{virt__mm_8c_a6223bf065444cd678be8eb78bebaa5ba}{PAGE\_\-SIZE} / sizeof(MEM\_\-LOC)) )
\item 
\#define \hyperlink{virt__mm_8h_a2a44275f8f579cb556ac30a1e8e15496}{PAGE\_\-TABLE\_\-IDX}(x)~((MEM\_\-LOC) x \% (\hyperlink{virt__mm_8c_a6223bf065444cd678be8eb78bebaa5ba}{PAGE\_\-SIZE} / sizeof(MEM\_\-LOC)) )
\item 
\#define \hyperlink{virt__mm_8h_a0195e9a61160d8c05ab820dbb4854ac3}{KERNEL\_\-START}~0xC0000000
\item 
\#define \hyperlink{virt__mm_8h_acf6766312c628742642e3fb34f8647f7}{KERNEL\_\-RESERVED\_\-START}~KERNEL\_\-START + 0x20000000
\item 
\#define \hyperlink{virt__mm_8h_a17a2a0a76cf3836bb48dca78aeccc5c6}{KERNEL\_\-MEMORY\_\-END}~0xFFFFFFFF
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{virt__mm_8h_af277cb4179b18146424653d0dc2f85a5}{init\_\-virt\_\-mm} (\hyperlink{int__types_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32} val)
\item 
void \hyperlink{virt__mm_8h_aaf5448d70cc9f266a489c07c57822603}{mark\_\-paging\_\-enabled} ()
\item 
void \hyperlink{virt__mm_8h_a8aa47a82f681426ba335dd779424f705}{map} (MEM\_\-LOC va, MEM\_\-LOC pa, \hyperlink{int__types_8h_a1134b580f8da4de94ca6b1de4d37975e}{uint32} \hyperlink{sources_2interrupts_2idt_8h_acd8859336a5cb8a70051c97a438726a1}{flags})
\item 
void \hyperlink{virt__mm_8h_ae8479a4b0677f11d8086559ec0e65ab3}{unmap} (POINTER va)
\item 
char \hyperlink{virt__mm_8h_a476890618ba05c09d2c16d66440abd22}{get\_\-mapping} (MEM\_\-LOC va, MEM\_\-LOC $\ast$pa)
\item 
page\_\-directory\_\-t $\ast$ \hyperlink{virt__mm_8h_aa3fe076bc9b516ca8f48ccb7542012c9}{copyPageDir} (page\_\-directory\_\-t $\ast$pagedir, \hyperlink{structprocess__structure}{process\_\-t} $\ast$process)
\item 
void \hyperlink{virt__mm_8h_ae62af42af2d4cb211a64978ff1ef060e}{enable\_\-paging} ()
\item 
void \hyperlink{virt__mm_8h_a65805eac601918e3f84e052063dac28b}{disable\_\-paging} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{virt__mm_8h_a6223bf065444cd678be8eb78bebaa5ba}{PAGE\_\-SIZE}
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\hypertarget{virt__mm_8h_a17a2a0a76cf3836bb48dca78aeccc5c6}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!KERNEL\_\-MEMORY\_\-END@{KERNEL\_\-MEMORY\_\-END}}
\index{KERNEL\_\-MEMORY\_\-END@{KERNEL\_\-MEMORY\_\-END}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{KERNEL\_\-MEMORY\_\-END}]{\setlength{\rightskip}{0pt plus 5cm}\#define KERNEL\_\-MEMORY\_\-END~0xFFFFFFFF}}
\label{virt__mm_8h_a17a2a0a76cf3836bb48dca78aeccc5c6}


Definition at line 19 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_acf6766312c628742642e3fb34f8647f7}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!KERNEL\_\-RESERVED\_\-START@{KERNEL\_\-RESERVED\_\-START}}
\index{KERNEL\_\-RESERVED\_\-START@{KERNEL\_\-RESERVED\_\-START}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{KERNEL\_\-RESERVED\_\-START}]{\setlength{\rightskip}{0pt plus 5cm}\#define KERNEL\_\-RESERVED\_\-START~KERNEL\_\-START + 0x20000000}}
\label{virt__mm_8h_acf6766312c628742642e3fb34f8647f7}


Definition at line 18 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a0195e9a61160d8c05ab820dbb4854ac3}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!KERNEL\_\-START@{KERNEL\_\-START}}
\index{KERNEL\_\-START@{KERNEL\_\-START}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{KERNEL\_\-START}]{\setlength{\rightskip}{0pt plus 5cm}\#define KERNEL\_\-START~0xC0000000}}
\label{virt__mm_8h_a0195e9a61160d8c05ab820dbb4854ac3}


Definition at line 17 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_ac6904b671094bfd0dc29dab0d9161c4a}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-DIR\_\-IDX@{PAGE\_\-DIR\_\-IDX}}
\index{PAGE\_\-DIR\_\-IDX@{PAGE\_\-DIR\_\-IDX}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-DIR\_\-IDX}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-DIR\_\-IDX(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((MEM\_\-LOC) x / ({\bf PAGE\_\-SIZE} / sizeof(MEM\_\-LOC)) )}}
\label{virt__mm_8h_ac6904b671094bfd0dc29dab0d9161c4a}


Definition at line 14 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_ac127198ad95c40c8f39e4076d1e246a4}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR@{PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR}}
\index{PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR@{PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-DIR\_\-VIRTUAL\_\-ADDR~0xFFBFF000}}
\label{virt__mm_8h_ac127198ad95c40c8f39e4076d1e246a4}


Definition at line 10 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_ae4aa620ce57c7c3171b916de2c5f09f2}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-MASK@{PAGE\_\-MASK}}
\index{PAGE\_\-MASK@{PAGE\_\-MASK}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-MASK}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-MASK~0xFFFFF000}}
\label{virt__mm_8h_ae4aa620ce57c7c3171b916de2c5f09f2}


Definition at line 4 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a122dfc414a40e260fd35dbe9743db26f}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-PRESENT@{PAGE\_\-PRESENT}}
\index{PAGE\_\-PRESENT@{PAGE\_\-PRESENT}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-PRESENT}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-PRESENT~0x1}}
\label{virt__mm_8h_a122dfc414a40e260fd35dbe9743db26f}


Definition at line 5 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a2a44275f8f579cb556ac30a1e8e15496}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-TABLE\_\-IDX@{PAGE\_\-TABLE\_\-IDX}}
\index{PAGE\_\-TABLE\_\-IDX@{PAGE\_\-TABLE\_\-IDX}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-TABLE\_\-IDX}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-TABLE\_\-IDX(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((MEM\_\-LOC) x \% ({\bf PAGE\_\-SIZE} / sizeof(MEM\_\-LOC)) )}}
\label{virt__mm_8h_a2a44275f8f579cb556ac30a1e8e15496}


Definition at line 15 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a07024be226b22545cb316cceb0f357c9}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR@{PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR}}
\index{PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR@{PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-TABLE\_\-VIRTUAL\_\-ADDR~0xFFC00000}}
\label{virt__mm_8h_a07024be226b22545cb316cceb0f357c9}


Definition at line 11 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a2d0253527ea5080d6befe0ee3bde473f}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-USER@{PAGE\_\-USER}}
\index{PAGE\_\-USER@{PAGE\_\-USER}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-USER}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-USER~0x4}}
\label{virt__mm_8h_a2d0253527ea5080d6befe0ee3bde473f}


Definition at line 7 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a559697780e34fd09ba6a2e909f0fe1df}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-WRITE@{PAGE\_\-WRITE}}
\index{PAGE\_\-WRITE@{PAGE\_\-WRITE}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-WRITE}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-WRITE~0x2}}
\label{virt__mm_8h_a559697780e34fd09ba6a2e909f0fe1df}


Definition at line 6 of file virt\_\-mm.h.

\hypertarget{virt__mm_8h_a56696016bca4fc31f61555b27f77230a}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-WRITETHROUGH@{PAGE\_\-WRITETHROUGH}}
\index{PAGE\_\-WRITETHROUGH@{PAGE\_\-WRITETHROUGH}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-WRITETHROUGH}]{\setlength{\rightskip}{0pt plus 5cm}\#define PAGE\_\-WRITETHROUGH~0x8}}
\label{virt__mm_8h_a56696016bca4fc31f61555b27f77230a}


Definition at line 8 of file virt\_\-mm.h.



\subsection{Function Documentation}
\hypertarget{virt__mm_8h_aa3fe076bc9b516ca8f48ccb7542012c9}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!copyPageDir@{copyPageDir}}
\index{copyPageDir@{copyPageDir}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{copyPageDir}]{\setlength{\rightskip}{0pt plus 5cm}page\_\-directory\_\-t$\ast$ copyPageDir (
\begin{DoxyParamCaption}
\item[{page\_\-directory\_\-t $\ast$}]{ pagedir, }
\item[{{\bf process\_\-t} $\ast$}]{ process}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_aa3fe076bc9b516ca8f48ccb7542012c9}


Definition at line 320 of file virt\_\-mm.c.

\hypertarget{virt__mm_8h_a65805eac601918e3f84e052063dac28b}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!disable\_\-paging@{disable\_\-paging}}
\index{disable\_\-paging@{disable\_\-paging}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{disable\_\-paging}]{\setlength{\rightskip}{0pt plus 5cm}void disable\_\-paging (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_a65805eac601918e3f84e052063dac28b}
\hypertarget{virt__mm_8h_ae62af42af2d4cb211a64978ff1ef060e}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!enable\_\-paging@{enable\_\-paging}}
\index{enable\_\-paging@{enable\_\-paging}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{enable\_\-paging}]{\setlength{\rightskip}{0pt plus 5cm}void enable\_\-paging (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_ae62af42af2d4cb211a64978ff1ef060e}
\hypertarget{virt__mm_8h_a476890618ba05c09d2c16d66440abd22}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!get\_\-mapping@{get\_\-mapping}}
\index{get\_\-mapping@{get\_\-mapping}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{get\_\-mapping}]{\setlength{\rightskip}{0pt plus 5cm}char get\_\-mapping (
\begin{DoxyParamCaption}
\item[{MEM\_\-LOC}]{ va, }
\item[{MEM\_\-LOC $\ast$}]{ pa}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_a476890618ba05c09d2c16d66440abd22}
\hypertarget{virt__mm_8h_af277cb4179b18146424653d0dc2f85a5}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!init\_\-virt\_\-mm@{init\_\-virt\_\-mm}}
\index{init\_\-virt\_\-mm@{init\_\-virt\_\-mm}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{init\_\-virt\_\-mm}]{\setlength{\rightskip}{0pt plus 5cm}void init\_\-virt\_\-mm (
\begin{DoxyParamCaption}
\item[{{\bf uint32}}]{ val}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_af277cb4179b18146424653d0dc2f85a5}
\hypertarget{virt__mm_8h_a8aa47a82f681426ba335dd779424f705}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!map@{map}}
\index{map@{map}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{map}]{\setlength{\rightskip}{0pt plus 5cm}void map (
\begin{DoxyParamCaption}
\item[{MEM\_\-LOC}]{ va, }
\item[{MEM\_\-LOC}]{ pa, }
\item[{{\bf uint32}}]{ flags}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_a8aa47a82f681426ba335dd779424f705}


Definition at line 70 of file virt\_\-mm.c.

\hypertarget{virt__mm_8h_aaf5448d70cc9f266a489c07c57822603}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!mark\_\-paging\_\-enabled@{mark\_\-paging\_\-enabled}}
\index{mark\_\-paging\_\-enabled@{mark\_\-paging\_\-enabled}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{mark\_\-paging\_\-enabled}]{\setlength{\rightskip}{0pt plus 5cm}void mark\_\-paging\_\-enabled (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_aaf5448d70cc9f266a489c07c57822603}
\hypertarget{virt__mm_8h_ae8479a4b0677f11d8086559ec0e65ab3}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!unmap@{unmap}}
\index{unmap@{unmap}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{unmap}]{\setlength{\rightskip}{0pt plus 5cm}void unmap (
\begin{DoxyParamCaption}
\item[{POINTER}]{ va}
\end{DoxyParamCaption}
)}}
\label{virt__mm_8h_ae8479a4b0677f11d8086559ec0e65ab3}


Definition at line 101 of file virt\_\-mm.c.



\subsection{Variable Documentation}
\hypertarget{virt__mm_8h_a6223bf065444cd678be8eb78bebaa5ba}{
\index{virt\_\-mm.h@{virt\_\-mm.h}!PAGE\_\-SIZE@{PAGE\_\-SIZE}}
\index{PAGE\_\-SIZE@{PAGE\_\-SIZE}!virt_mm.h@{virt\_\-mm.h}}
\subsubsection[{PAGE\_\-SIZE}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int {\bf PAGE\_\-SIZE}}}
\label{virt__mm_8h_a6223bf065444cd678be8eb78bebaa5ba}


Definition at line 31 of file virt\_\-mm.c.

